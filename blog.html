---
layout: default
title: Blog
---

<!-- <div id="postList">
    {% for post in site.posts %}
    <div class="post{% if post.promoted == 1 %} promoted{% endif %}">
        <a href="{{post.url}}">
                <h3>{{post.title}}</h3>
                <p><strong>Description:</strong> {{post.description}}</p>
                <p><strong>Content:</strong> {{post.content}}</p>
                <p><strong>Promoted:</strong> ${post.promoted}</p>
                <p><strong>Published on</strong> ${formattedDate}</p>
            </a>
        </div>
    {% endfor %}
</div> -->

<section id="post-container" class="block">
    {% for post in site.posts %}
    <a href="{{post.url}}" style="all: unset;">
        <div class="post{% if post.promoted == 1 %} promoted{% endif %}" data-word-count="{{ post.content | number_of_words  }}">
        <div class="post-content">
            <h2>{{ post.title }}</h2>
            <p>{{ post.content }}</p>
            <div class="post-stats">
            {% assign formattedDate = post.date | date: "%d %b %Y" | upcase %}
            <span>{{ formattedDate }}</span>
            <span class="readingTime"></span>
            <span class="{% if post.tags %}post_type{% endif %}">{{ post.tags }}</span>
            </div>
        </div>
        </div>
    </a>
  {% endfor %}
</section>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const postElements = document.querySelectorAll('.post');

    postElements.forEach(function(postElement, index) {
      // Get word count from data attribute
      const wordCount = postElement.getAttribute('data-word-count');
    //   const wordCount = calculateWordCount('{{post.content | jsonify | strip_html}} ');
      console.log(wordCount)
      
      // Calculate reading time
      const readingTime = calculateReadingTime(wordCount);
      console.log(readingTime)

      // Output reading time in the console (for testing)
      console.log('Reading time for post #' + (index + 1) + ': ' + readingTime);

      // Find the readingTime span element within the current post
      const readingTimeElement = postElement.querySelector('.readingTime');
      if (readingTimeElement) {
        // Update the readingTime span element with the calculated reading time
        readingTimeElement.textContent = readingTime;
      } else {
        console.error('Element with class "readingTime" not found in post #' + (index + 1));
      }
    });
  });
</script>
